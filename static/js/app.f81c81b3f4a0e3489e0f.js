webpackJsonp([1],{"5Y1v":function(t,n){},HFeS:function(t,n){},NHnr:function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e={};r.d(e,"reset",function(){return k});var i=r("7+uW"),a=r("Dd8w"),s=r.n(a),c=r("NYxO"),o={name:"App",methods:s()({},Object(c.b)(["reset"]))},u={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"reset"},[n("button",{staticClass:"btn btn-link",on:{click:this.reset}},[this._v("Reset")])]),this._v(" "),n("ul",{staticClass:"nav nav-pills"},[n("router-link",{attrs:{tag:"li",to:"Participants"}},[n("a",[this._v("Participants")])]),this._v(" "),n("router-link",{attrs:{tag:"li",to:"/Drawing"}},[n("a",[this._v("Drawing")])])],1),this._v(" "),n("div",{staticClass:"row",staticStyle:{"margin-top":"2em"}},[n("router-view")],1)])},staticRenderFns:[]};var m=r("VU/8")(o,u,!1,function(t){r("QIJ/")},"data-v-c4f7181e",null).exports,f=r("/ocq"),l={computed:s()({},Object(c.c)({participants:function(t){return t.participants.participants},form:function(t){return t.participants.form}})),methods:s()({},Object(c.b)(["addParticipant","removeParticipant"]),{editForm:function(t){this.$store.dispatch("editForm",{key:t.target.name,value:t.target.value})}})},p={render:function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"col-md-5"},[r("form",{on:{submit:function(n){n.preventDefault(),t.addParticipant(n)}}},[r("div",{staticClass:"row",staticStyle:{"margin-bottom":"2em"}},[r("div",{staticClass:"form-group col-md-6"},[r("input",{staticClass:"form-control",class:{inputError:t.form.errors.name},attrs:{type:"text",name:"name",placeholder:"Name"},domProps:{value:t.form.name},on:{input:t.editForm}})]),t._v(" "),r("div",{staticClass:"form-group col-md-4"},[r("input",{staticClass:"form-control",class:{inputError:t.form.errors.numberOfTickets},attrs:{type:"number",name:"numberOfTickets",placeholder:"# tickets"},domProps:{value:t.form.numberOfTickets},on:{input:t.editForm}})]),t._v(" "),t._m(0)])]),t._v(" "),t.participants.length>0?r("table",{staticClass:"table"},[t._m(1),t._v(" "),r("tbody",t._l(t.participants,function(n){return r("tr",{key:n.id},[r("td",[t._v(t._s(n.name))]),t._v(" "),r("td",[t._v(t._s(n.numberOfTickets))]),t._v(" "),r("td",[r("button",{staticClass:"btn btn-link",on:{click:function(r){t.removeParticipant({id:n.id})}}},[t._v("\n          Remove\n        ")])])])}))]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"col-md-1"},[n("input",{staticClass:"btn btn-primary",attrs:{type:"submit",value:"+"}})])},function(){var t=this.$createElement,n=this._self._c||t;return n("thead",[n("tr",[n("td",[this._v("Name")]),this._v(" "),n("td",[this._v("# tickets")]),this._v(" "),n("td")])])}]};var d=r("VU/8")(l,p,!1,function(t){r("5Y1v")},"data-v-9b81b1ec",null).exports,v={computed:s()({},Object(c.c)({winners:function(t){return t.drawing.winners}})),methods:s()({},Object(c.b)(["drawWinner"]))},_={render:function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",{staticClass:"col-md-7"},[r("button",{staticClass:"btn btn-success btn-lg",on:{click:t.drawWinner}},[t._v("Draw")]),t._v(" "),r("ul",{staticClass:"list-unstyled"},t._l(t.winners,function(n){return r("li",{key:n.id,staticClass:"winnerName"},[t._v(t._s(n.name))])}))])},staticRenderFns:[]};var b=r("VU/8")(v,_,!1,function(t){r("HFeS")},"data-v-1217522b",null).exports;i.a.use(f.a);var h,T=new f.a({linkActiveClass:"active",routes:[{path:"/",redirect:"/Participants"},{path:"/Participants",name:"Participants",component:d},{path:"/Drawing",name:"Drawing",component:b}]}),O=r("424j"),k=function(t){var n=t.commit;T.push("Participants"),n("RESET")},R=r("bOdI"),E=r.n(R),C=r("fZjL"),w=r.n(C);function P(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}var g,A=function(t){var n=function(t){return t.map(function(t){return Array(t.numberOfTickets).fill(t)}).reduce(function(t,n){return t.concat(n)})}(t);return n[Math.floor(Math.random()*n.length)]},I={participants:{state:{participants:[],form:{name:"",numberOfTickets:null,errors:{name:!1,numberOfTickets:!1}}},getters:{},actions:{addParticipant:function(t,n){var r=t.commit,e=t.state;e.form.name&&e.form.numberOfTickets?(r("ADD_PARTICIPANT"),n.target[0].focus()):(e.form.name||r("FORM_ERROR",{key:"name"}),e.form.numberOfTickets||r("FORM_ERROR",{key:"numberOfTickets"}))},editForm:function(t,n){(0,t.commit)("EDIT_FORM",{key:n.key,value:n.value})},removeParticipant:function(t,n){(0,t.commit)("REMOVE_PARTICIPANT",{id:n.id})}},mutations:(h={},E()(h,"ADD_PARTICIPANT",function(t){var n=parseInt(t.form.numberOfTickets,10),r={name:t.form.name,numberOfTickets:n,id:P()};t.form={name:"",numberOfTickets:null,errors:{name:!1,numberOfTickets:!1}},t.participants.push(r)}),E()(h,"EDIT_FORM",function(t,n){var r=n.key,e=n.value;t.form[r]=e}),E()(h,"REMOVE_PARTICIPANT",function(t,n){var r=n.id;t.participants=t.participants.filter(function(t){return t.id!==r})}),E()(h,"DECREASE_TICKETS_FOR_PARTICIPANT",function(t,n){var r=n.id;t.participants=t.participants.map(function(t){return t.id!==r?t:s()({},t,{numberOfTickets:t.numberOfTickets-1})})}),E()(h,"FORM_ERROR",function(t,n){var r=n.key;t.form.errors[r]=!0}),E()(h,"RESET",function(t){var n={participants:[],form:{name:"",numberOfTickets:null,errors:{name:!1,numberOfTickets:!1}}};w()(n).forEach(function(r){t[r]=n[r]})}),h)},drawing:{state:{winners:[]},getters:{},actions:{drawWinner:function(t){var n=t.commit,r=t.rootState.participants.participants,e=A(r);e&&(n("ADD_WINNER",{winner:s()({},e,{id:P()})}),n("DECREASE_TICKETS_FOR_PARTICIPANT",{id:e.id},{root:!0}))}},mutations:(g={},E()(g,"ADD_WINNER",function(t,n){var r=n.winner;t.winners.unshift(r)}),E()(g,"RESET",function(t){var n={winners:[]};w()(n).forEach(function(r){t[r]=n[r]})}),g)}};i.a.use(c.a);var y=new c.a.Store({plugins:[Object(O.a)()],actions:e,modules:I});i.a.config.productionTip=!1,new i.a({el:"#app",router:T,store:y,components:{App:m},template:"<App/>"})},"QIJ/":function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.f81c81b3f4a0e3489e0f.js.map